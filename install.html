

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Installation &mdash; Documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="À propos de ces documents" href="about.html" />
    <link rel="top" title="Documentation" href="index.html" />
    <link rel="next" title="3. Utilisation" href="utilisation.html" />
    <link rel="prev" title="1. Introduction" href="about.html" />
 

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-23961669-2']);
    _gaq.push(['_trackPageview']);

    (function() {
     var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="utilisation.html" title="3. Utilisation"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="about.html" title="1. Introduction"
             accesskey="P">précédent</a> |</li>
    <li><a href="http://possum-software.github.com/possum/">Possum</a> &raquo;</li>
    
        <li><a href="index.html">Documentation</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation">
<h1>2. Installation<a class="headerlink" href="#installation" title="Lien permanent vers ce titre">¶</a></h1>
<p>Cette documentation est écrite pour une distribution GNU/Linux Ubuntu 11.04.</p>
<div class="section" id="utilisateur">
<h2>2.1. Utilisateur<a class="headerlink" href="#utilisateur" title="Lien permanent vers ce titre">¶</a></h2>
<p>Tout d&#8217;abord, nous allons créer un utilisateur &#8216;&#8217;pos&#8217;&#8217; qui aura comme &#8216;&#8217;home&#8217;&#8217; : /home/pos:</p>
<div class="highlight-python"><pre>sudo adduser pos</pre>
</div>
</div>
<div class="section" id="enlightenment">
<h2>2.2. Enlightenment<a class="headerlink" href="#enlightenment" title="Lien permanent vers ce titre">¶</a></h2>
<p>On utilise la réversion 59661 qui correspond à la version officielle 1.0.1 des EFL.</p>
<div class="highlight-python"><pre>cd /home/pos
wget http://omicron.homeip.net/projects/easy_e17/easy_e17.sh
chmod u+x ./easy_e17.sh
cat .easy_e17.conf
--srcmode=full
--low
--disable-notification
--packagelist=full
--skip=mpdule,emprint,screenshot,exalt,enjoy,wlan,eweather,alarm,calendar,cpu,drawer,efm_nav,efm_path,efm_pathbar,everything-mpris,everything-pidgin,everything-tracker,everything-wallpaper,everything-websearch,eweather,exalt-client,exebuf,execwatch,itask,itask-ng,flame,forecasts,iiirk,mail,mem,moon,net,news,notification,eooorg,penguins,photo,places,quickaccess,rain,skel,slideshow,snow,taskbar,tclock,tiling,uptime,weather,winlist-ng,winselector,emotion,libeweather,enlil,python-emotion,e_phys,editje,elicit,elsa,emote,empower,enki,ephoto,Eterm,expedite,exquisite,eyelight,image-viewer,rage,language,diskio,deskshow,ethumb,python-ethumb,shellementary
--cflags=-O2,-march=native,-s
--asuser
--srcrev=59661
--instpath=/home/pos/e17
--srcpath=/home/pos/e17_src/

./easy_e17.sh -i

echo 'exec /home/pos/e17/bin/enlightenment_start' &gt; ~/.xsession
ln -sf ~/.xsession ~/.xinitrc

dans ~/.bashrc
export PATH="/home/pos/e17/bin:$PATH"
export PYTHONPATH="/home/pos/e17/lib/python2.7/site-packages:$PYTHONPATH"
export LD_LIBRARY_PATH="/home/pos/e17/lib:$LD_LIBRARY_PATH"</pre>
</div>
<p>Ensuite il faut initialiser Enlightenment en lançant une session. Le plus
simple est de se connecter en mode texte avec l&#8217;utilisateur POS puis
lancer l&#8217;interface graphique avec la commande: startx</p>
<p>Une fois connecté, au premier lancement vous avez quelques paramètres
à configurer:</p>
<ul class="simple">
<li>Language: Français</li>
<li>Profil: Minimaliste</li>
<li>Menus: Enlightenment Default</li>
</ul>
<p>Ensuite, on peut aussi changer le fond d&#8217;écran:</p>
<ul class="simple">
<li>clic gauche sur le fond d&#8217;écran</li>
<li>configuration &gt; Fond d&#8217;écran</li>
<li>Système &gt; Dark_Gradient</li>
</ul>
</div>
<div class="section" id="django">
<h2>2.3. Django<a class="headerlink" href="#django" title="Lien permanent vers ce titre">¶</a></h2>
<p>Installation de Django:</p>
<div class="highlight-python"><pre>sudo apt-get install python-django python-werkzeug</pre>
</div>
<p>Il est conseillé de prendre au minimum une version 1.2.3.</p>
</div>
<div class="section" id="possum">
<h2>2.4. Possum<a class="headerlink" href="#possum" title="Lien permanent vers ce titre">¶</a></h2>
<p>Vous pouvez télécharger POSSUM ici: <a class="reference external" href="https://github.com/possum-software/possum/archives/master">GitHub</a></p>
<div class="highlight-python"><pre>cd /home/pos
tar xzf possum-software-possum-*.tar.gz
ln -sf /home/pos/possum-software-possum-???????/possum possum
cd possum
cp settings.py-sample settings.py</pre>
</div>
<p>La base de données configurée par défaut est Sqlite, pour plus d&#8217;informations
reportez vous à la documentation de Django:
<a class="reference external" href="http://docs.django-fr.org/intro/install.html">Installation de Django</a></p>
<p>Création de la base pour l&#8217;application:</p>
<div class="highlight-python"><pre>./manage.py syncdb

You just installed Django's auth system, which means you don't have any superusers defined.
Would you like to create one now? (yes/no): yes
Username (Leave blank to use 'pos'): my_login
E-mail address: my.login@example.org
Password:
Password (again):
Superuser created successfully.</pre>
</div>
<p>Il est préférable d&#8217;avoir un serveur de mail configurer sur le poste. En
effet, POSSUM peut envoyé des messages s&#8217;il y a des tentatives d&#8217;accès
au panneau d&#8217;administration ou des bugs.</p>
<div class="highlight-python"><pre>sudo apt-get install postfix bsd-mailx

Système satellite : Tous les messages sont envoyés vers une autre machine, nommée un smarthost.
Nom de courrier : possum (ou le nom que vous voulez)
Serveur relais SMTP (vide pour aucun) :
Destinataire des courriels de « root » et de « postmaster » : votre_adresse_mail@example.org
Autres destinations pour lesquelles le courrier sera accepté (champ vide autorisé) : possum, localhost.localdomain, localhost
Faut-il forcer des mises à jour synchronisées de la file d'attente des courriels ? Non
Réseaux internes : 127.0.0.0/8 [::ffff:127.0.0.0]/104 [::1]/128
Taille maximale des boîtes aux lettres (en octets) : 0
Caractère d'extension des adresses locales : +
Protocoles internet à utiliser : tous</pre>
</div>
<p>Si tout est bien configurer, vous devriez recevoir un mail avec comme
sujet &#8216;&#8217;test&#8217;&#8217; et dans le message la date d&#8217;envoie en utilisant la
commande suivante:</p>
<div class="highlight-python"><pre>date | mail -s test root</pre>
</div>
<p>On crée le groupe pour les managers:</p>
<div class="highlight-python"><pre>cd /home/pos/possum
./manage.py shell_plus
g = Group(name='Managers')
g.save()
exit</pre>
</div>
<p>On ajoute maintenant notre utilisateur au groupe des managers:</p>
<div class="highlight-python"><pre>cd /home/pos/possum
./manage.py shell_plus
u = User.objects.get(username="my_login")
u.groups.add(Group.objects.get(name='Managers'))
u.save()
exit</pre>
</div>
<p>On peut également créer d&#8217;autres utilisateurs-managers:</p>
<div class="highlight-python"><pre>cd /home/pos/possum
./manage.py shell_plus
u = User.objects.create_user('john', 'lennon@thebeatles.com', 'johnpassword')
u.groups.add(Group.objects.get(name='Managers'))
u.save()
exit</pre>
</div>
<p>L&#8217;installation est presque terminée, vous devez maintenant configurer
la sauvegarde automatique de la base de données. Cette partie dépend du
type de base que vous avez choisi. La plus simple étant la base sqlite,
sa sauvegarde se limite à la copie d&#8217;un fichier.</p>
<p>Pour lancer l&#8217;application:</p>
<div class="highlight-python"><pre>cd /home/pos/possum
./gui/efl.py</pre>
</div>
</div>
<div class="section" id="configuration-initiale">
<h2>2.5. Configuration initiale<a class="headerlink" href="#configuration-initiale" title="Lien permanent vers ce titre">¶</a></h2>
<p>Malheureusement, il n&#8217;y a pas encore d&#8217;interface web pour la modification
et la saisie des produits, cela doit être fait à la main pour le moment.</p>
<p>À partir de la version 0.5 une interface web de gestion sera en place et
la documentation sera faire à ce moment là.</p>
</div>
<div class="section" id="exemple-de-materiels">
<h2>2.6. Exemple de Matériels<a class="headerlink" href="#exemple-de-materiels" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour finir, voici un exemple de matériels utilisés et qui fonctionne:</p>
<p>PC:</p>
<ul class="simple">
<li>carte Mini ITX VIA M6000G</li>
<li>Asus EEE PC</li>
<li>Shuttle SD11G5</li>
</ul>
<p>Écran tactile:</p>
<ul class="simple">
<li>ELo Touch 1515L</li>
</ul>
<p>À noter que le support de la part de EloTouch est plutôt
moyen. Je vous conseille ce site: <a class="reference external" href="https://help.ubuntu.com/community/EloTouchScreen">EloTouchScreen</a></p>
<p>Imprimante à ticket:</p>
<ul class="simple">
<li>Epson MT M88 iv</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/bandeau-192.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table des matières</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. Installation</a><ul>
<li><a class="reference internal" href="#utilisateur">2.1. Utilisateur</a></li>
<li><a class="reference internal" href="#enlightenment">2.2. Enlightenment</a></li>
<li><a class="reference internal" href="#django">2.3. Django</a></li>
<li><a class="reference internal" href="#possum">2.4. Possum</a></li>
<li><a class="reference internal" href="#configuration-initiale">2.5. Configuration initiale</a></li>
<li><a class="reference internal" href="#exemple-de-materiels">2.6. Exemple de Matériels</a></li>
</ul>
</li>
</ul>

  <h4>Sujet précédent</h4>
  <p class="topless"><a href="about.html"
                        title="Chapitre précédent">1. Introduction</a></p>
  <h4>Sujet suivant</h4>
  <p class="topless"><a href="utilisation.html"
                        title="Chapitre suivant">3. Utilisation</a></p>
<div id="searchbox" style="display: none">
  <h3>Recherche rapide</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="utilisation.html" title="3. Utilisation"
             >suivant</a> |</li>
        <li class="right" >
          <a href="about.html" title="1. Introduction"
             >précédent</a> |</li>
    <li><a href="http://possum-software.github.com/possum/">Possum</a> &raquo;</li>
    
        <li><a href="index.html">Documentation</a> &raquo;</li>
 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Bonnegent Sébastien.
      Créé avec <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>